{
  "name": "template",
  "description": "ChiÏ‡ Template Engines",
  "version": "0.0.2",
  "repository": {
    "type": "git",
    "url": "https://github.com/nodule/template.git"
  },
  "dependencies": {
    "mustache": "0.x.x",
    "marked": "0.x.x",
    "jade": "0.x.x",
    "handlebars": "1.x.x",
    "js-yaml": "3.x.x",
    "front-matter": "^0.2.0"
  },
  "nodes": [
    {
      "ports": {
        "input": {
          "in": {
            "type": "string",
            "title": "Body",
            "format": "markdown",
            "description": "The body of this markdown document",
            "async": true
          }
        },
        "output": {
          "out": {
            "title": "Output",
            "type": "object",
            "items": {
              "attributes": {
                "title": "Attributes",
                "type": "object"
              },
              "body": {
                "title": "Markdown",
                "type": "string"
              }
            }
          }
        }
      },
      "require": {
        "front-matter": "latest"
      },
      "phrases": {
        "active": "Extracting front-matter"
      },
      "description": "Extract YAML front matter",
      "async": true,
      "ns": "template",
      "name": "front-matter",
      "fn": "on.input.in = function() {\n  output( { out: front_matter(data) });\n};\n"
    },
    {
      "ports": {
        "input": {
          "body": {
            "type": "string",
            "format": "html",
            "title": "Template body",
            "description": "The body of the handlebars template",
            "required": true
          },
          "vars": {
            "type": "object",
            "title": "Input variables",
            "description": "the input variables for this template",
            "required": true
          },
          "handlebars": {
            "type": "function",
            "title": "Handlebars",
            "default": null
          }
        },
        "output": {
          "out": {
            "title": "HTML",
            "type": "string"
          }
        }
      },
      "phrases": {
        "active": "Compiling handlebars template"
      },
      "require": {
        "handlebars": "latest"
      },
      "description": "Handlebars Template engine",
      "ns": "template",
      "name": "handlebars",
      "fn": "var hb = input.handlebars || handlebars;\nvar tpl = hb.compile(input.body);\noutput = {\n  out: tpl(input.vars)\n}\n"
    },
    {
      "ports": {
        "input": {
          "name": {
            "title": "Helper Name",
            "type": "string"
          },
          "fn": {
            "title": "Helper Function",
            "type": "function",
            "description": "The Helper function"
          }
        },
        "output": {
          "handlebars": {
            "title": "Handlebars",
            "type": "function"
          }
        }
      },
      "phrases": {
        "active": "Adding handlebar helper"
      },
      "require": {
        "handlebars": "latest"
      },
      "description": "Handlebars Helper",
      "ns": "template",
      "name": "handlebarsHelper",
      "fn": "handlebars.registerHelper(input.name, input.fn);\noutput.handlebars = handlebars;\n"
    },
    {
      "ports": {
        "input": {
          "body": {
            "type": "string",
            "format": "html",
            "title": "Template body",
            "description": "The body of the Jade template",
            "required": true
          },
          "vars": {
            "type": "object",
            "title": "Input variables",
            "description": "the input variables for this template",
            "required": true,
            "readonly": true
          }
        },
        "output": {
          "out": {
            "title": "HTML",
            "type": "string"
          }
        }
      },
      "phrases": {
        "active": "Compiling jade template"
      },
      "require": {
        "jade": "0.x.x"
      },
      "env": "server",
      "description": "Jade Template engine",
      "ns": "template",
      "name": "jade",
      "fn": "output = {\n  out: jade.render(input.body, input.vars)\n}\n"
    },
    {
      "ports": {
        "input": {
          "in": {
            "type": "string",
            "title": "Body",
            "format": "markdown",
            "description": "The body of this markdown document",
            "asyn": true
          }
        },
        "output": {
          "out": {
            "title": "HTML",
            "type": "string"
          }
        }
      },
      "require": {
        "marked": "latest"
      },
      "phrases": {
        "active": "Creating markdown document"
      },
      "description": "Markdown",
      "asyn": true,
      "ns": "template",
      "name": "markdown",
      "fn": "on.input.in = function() {\n  output( { out: marked(data) });\n};\n"
    },
    {
      "ports": {
        "input": {
          "body": {
            "type": "string",
            "format": "html",
            "title": "Template body",
            "description": "The body of the mustache template",
            "required": true
          },
          "vars": {
            "type": "object",
            "title": "Input variables",
            "description": "the input variables for this template",
            "required": true,
            "readonly": true
          }
        },
        "output": {
          "out": {
            "title": "String",
            "type": "string"
          }
        }
      },
      "phrases": {
        "active": "Compiling mustache template"
      },
      "require": {
        "mustache": "latest"
      },
      "description": "Mustache Template engine",
      "ns": "template",
      "name": "mustache",
      "fn": "output = {\n  out: mustache.render(input.body, input.vars)\n}\n"
    },
    {
      "ports": {
        "input": {
          "in": {
            "type": "string",
            "format": "yaml",
            "title": "YAML",
            "description": "The YAML string",
            "required": true
          }
        },
        "output": {
          "out": {
            "title": "Vars",
            "type": "object"
          }
        }
      },
      "phrases": {
        "active": "Parsing YAML"
      },
      "require": {
        "js-yaml": "3.x.x"
      },
      "description": "YAML Parser",
      "ns": "template",
      "name": "yaml",
      "fn": "output = {\n  out: js_yaml.safeLoad(input.in, { strict: true } )\n}\n"
    }
  ],
  "twigs": []
}